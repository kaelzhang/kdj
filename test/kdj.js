import test from 'ava'
import kdj from '../src'

const data = [
  [1.612,1.452,1.347,1.354,1.358,1.325,1.304,1.331,1.309,1.272,1.278,1.3,1.181,1.15,1.141,1.093,1.093,1.099,1.14,1.026,1.026],
  [1.546,1.451,1.335,1.318,1.323,1.323,1.289,1.294,1.302,1.259,1.262,1.284,1.17,1.117,1.118,1.093,1.068,1.073,1.06,1.026,0.975],
  [1.767,1.546,1.415,1.379,1.377,1.377,1.344,1.342,1.333,1.309,1.298,1.319,1.272,1.185,1.156,1.156,1.106,1.149,1.151,1.126,1.073]]

;[
  [
    'normal',
    [
      [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      [1, 1, 2, 3, 2, 4, 4, 6, 8, 9, 10, 10],
      [2, 2, 3, 4, 6, 8, 7, 9, 11, 11, 12, 14]
    ],

    {
      K: [
        ,,,,,,,,0,
        83.33333333333334,
        85.55555555555557,
        84.81481481481482
      ],
      D: [
        ,,,,,,,,0,
        27.77777777777778,
        47.037037037037045,
        59.62962962962964
      ],
      J: [,,,,,,,,0,100,100,100]
    }
  ]
]
.forEach(([d, args, expected]) => {
  test(d, async t => {
    const result = kdj(...args)
    t.deepEqual(result, expected)
  })
})
